(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{447:function(t,e,o){var content=o(450);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(93).default)("201004b3",content,!0,{sourceMap:!1})},449:function(t,e,o){"use strict";var n=o(447);o.n(n).a},450:function(t,e,o){(t.exports=o(92)(!1)).push([t.i,"body{background:#f8f8f8}body,h1{font-family:Roboto,sans-serif}.nav-tabs{border-bottom:none}.list-group-item{border-top-left-radius:0!important;border-top-right-radius:0!important}.list-group-item p:last-child{margin-bottom:0}.confirm-save{opacity:0;-webkit-transition:opacity .3s ease;transition:opacity .3s ease}.confirm-save.show{opacity:1}",""])},451:function(t,e,o){"use strict";o.r(e);o(42);var n,r=o(9),c=o(448),l=o.n(c),d={data:function(){return{saving:!1,showConfirmSave:!1}},mounted:(n=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$store.state.user){t.next=5;break}if(!(e=localStorage.getItem("access_token"))){t.next=5;break}return t.next=5,this.$store.dispatch("login",e);case 5:if(!this.$store.state.user){t.next=11;break}return t.next=8,this.$store.dispatch("fetchPosts");case 8:return t.next=10,this.$store.dispatch("fetchComments");case 10:this.$store.commit("setActivePost",this.$store.state.posts[0]);case 11:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)}),computed:{isValidJson:function(){try{JSON.parse(this.$store.state.activeJsonMetadataString)}catch(t){return!1}return!0}},methods:{logout:function(){this.$store.dispatch("logout")},renderCommentBody:function(body){return l()(body)},saveMetadata:function(){var t=this;this.saving=!0,this.$steemconnect.comment(this.$store.state.activePost.parent_author,this.$store.state.activePost.parent_permlink,this.$store.state.activePost.author,this.$store.state.activePost.permlink,this.$store.state.activePost.title,this.$store.state.activePost.body,JSON.parse(this.$store.state.activeJsonMetadataString),(function(e){t.saving=!1,e?console.log(e):(t.$store.dispatch("fetchPosts"),t.$store.dispatch("fetchComments"),t.showConfirmSave=!0,setTimeout((function(){t.showConfirmSave=!1}),3e3))}))}}},m=(o(449),o(39)),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._m(0),t._v(" "),t.$store.state.user?o("div",{staticClass:"container pb-5"},[o("h5",{staticClass:"lead text-center pb-1"},[t._v("\n      logged in as "),o("a",{attrs:{href:"https://steemit.com/@"+t.$store.state.user.account.name,target:"_blank"}},[t._v("@"+t._s(t.$store.state.user.account.name))])]),t._v(" "),o("div",{staticClass:"text-center pb-5"},[o("a",{staticClass:"btn btn-sm btn-secondary",attrs:{href:"#"},on:{click:function(e){return t.logout()}}},[t._v("logout "),o("i",{staticClass:"fas fa-sign-out-alt"})])]),t._v(" "),t._m(1),t._v(" "),o("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[o("div",{staticClass:"tab-pane fade show active",attrs:{id:"posts",role:"tabpanel"}},[o("ul",{staticClass:"list-group"},t._l(t.$store.state.posts,(function(e){return o("li",{key:e.id,staticClass:"list-group-item",attrs:{post:e}},[o("div",{staticClass:"float-left"},[t._v(t._s(e.title))]),t._v(" "),o("button",{staticClass:"btn btn-sm btn-primary float-right",attrs:{"data-toggle":"modal","data-target":"#editorModal"},on:{click:function(o){return t.$store.commit("setActivePost",e)}}},[o("i",{staticClass:"fas fa-pen"})])])})),0)]),t._v(" "),o("div",{staticClass:"tab-pane fade",attrs:{id:"comments",role:"tabpanel"}},[o("ul",{staticClass:"list-group"},t._l(t.$store.state.comments,(function(e){return o("li",{key:e.id,staticClass:"list-group-item",attrs:{comment:e}},[o("div",{staticClass:"float-left"},[o("small",[t._v("Re: "+t._s(e.root_title))]),o("br"),t._v(" "),o("small",{staticClass:"text-muted",domProps:{innerHTML:t._s(t.renderCommentBody(e.body))}})]),t._v(" "),o("button",{staticClass:"btn btn-sm btn-primary float-right",attrs:{"data-toggle":"modal","data-target":"#editorModal"},on:{click:function(o){return t.$store.commit("setActivePost",e)}}},[o("i",{staticClass:"fas fa-pen"})])])})),0)])]),t._v(" "),t.$store.state.activePost?o("div",{staticClass:"modal fade",attrs:{id:"editorModal",tabindex:"-1",role:"dialog"}},[o("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),o("div",{staticClass:"modal-body p-0"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.activeJsonMetadataString,expression:"$store.state.activeJsonMetadataString"}],staticClass:"border-0 d-block w-100 p-3",staticStyle:{height:"350px"},domProps:{value:t.$store.state.activeJsonMetadataString},on:{input:function(e){e.target.composing||t.$set(t.$store.state,"activeJsonMetadataString",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"modal-footer"},[o("i",{class:"fas fa-check text-success confirm-save"+(t.showConfirmSave?" show":"")}),t._v(" "),t.isValidJson?o("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveMetadata}},[t.saving?o("span",[o("i",{staticClass:"fas fa-spinner fa-spin"}),t._v(" Saving...")]):o("span",[t._v("Save changes")])]):o("span",{staticClass:"text-danger"},[t._v("Invalid JSON")]),t._v(" "),o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])]):t._e()]):o("div",{staticClass:"text-center py-5"},[o("a",{staticClass:"btn btn-primary",attrs:{href:t.$steemconnect.getLoginURL()}},[t._v("Login with SteemConnect")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticClass:"text-center pt-5"},[this._v("\n    { }"),e("br"),this._v("\n    Steem Metadata Editor\n  ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs nav-justified",attrs:{id:"myTab",role:"tablist"}},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link active",attrs:{id:"home-tab","data-toggle":"tab",href:"#posts",role:"tab"}},[this._v("Posts")])]),this._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{id:"profile-tab","data-toggle":"tab",href:"#comments",role:"tab"}},[this._v("Comments")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("Edit JSON Metadata")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[e("span",[this._v("Ã—")])])])}],!1,null,null,null);e.default=component.exports}}]);